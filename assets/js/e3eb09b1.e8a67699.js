"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[828],{1513:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>g,contentTitle:()=>w,default:()=>A,frontMatter:()=>j,metadata:()=>r,toc:()=>k});const r=JSON.parse('{"id":"example","title":"\u793a\u4f8b","description":"","source":"@site/docs/example.mdx","sourceDirName":".","slug":"/example","permalink":"/idcard.js/docs/example","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"locale":"zh-Hans"},"sidebar":"tutorialSidebar","previous":{"title":"\u7b80\u4ecb","permalink":"/idcard.js/docs/intro"}}');var i=t(6106),o=t(2036),a=t(7378),s=t(3343),l=t(2053),c=t(1612),u=t(9231),d=t(7484);"function"==typeof SuppressedError&&SuppressedError;var f=/\u540d(.*)/,p=/\u7537|\u5973/,h=/\u6c11\u65cf (.*)/,v=/^\d{4}\u5e74(?:0?[1-9]|1[0-2])\u6708(?:0?[1-9]|[12][0-9]|3[01])\u65e5$/,x=/^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,m=/(\u5317\u4eac\u5e02|\u5929\u6d25\u5e02|\u4e0a\u6d77\u5e02|\u91cd\u5e86\u5e02|\u6cb3\u5317\u7701|\u5c71\u897f\u7701|\u8fbd\u5b81\u7701|\u5409\u6797\u7701|\u9ed1\u9f99\u6c5f\u7701|\u6c5f\u82cf\u7701|\u6d59\u6c5f\u7701|\u5b89\u5fbd\u7701|\u798f\u5efa\u7701|\u6c5f\u897f\u7701|\u5c71\u4e1c\u7701|\u6cb3\u5357\u7701|\u6e56\u5317\u7701|\u6e56\u5357\u7701|\u5e7f\u4e1c\u7701|\u6d77\u5357\u7701|\u56db\u5ddd\u7701|\u8d35\u5dde\u7701|\u4e91\u5357\u7701|\u9655\u897f\u7701|\u7518\u8083\u7701|\u9752\u6d77\u7701|\u53f0\u6e7e\u7701|\u5185\u8499\u53e4\u81ea\u6cbb\u533a|\u5e7f\u897f\u58ee\u65cf\u81ea\u6cbb\u533a|\u897f\u85cf\u81ea\u6cbb\u533a|\u5b81\u590f\u56de\u65cf\u81ea\u6cbb\u533a|\u65b0\u7586\u7ef4\u543e\u5c14\u81ea\u6cbb\u533a|\u9999\u6e2f\u7279\u522b\u884c\u653f\u533a|\u6fb3\u95e8\u7279\u522b\u884c\u653f\u533a).*/;function b(e){return function(e,n,t,r){return new(t||(t=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}l((r=r.apply(e,n||[])).next())}))}(this,void 0,void 0,(function(){var n,r,i,o;return function(e,n){var t,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(t=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=n.call(e,o)}catch(e){s=[6,e],r=0}finally{t=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(a){switch(a.label){case 0:return[4,(0,t(7398).createWorker)("chi_sim",3)];case 1:return[4,(n=a.sent()).recognize(e)];case 2:return r=a.sent(),i=r.data,[4,n.terminate()];case 3:return a.sent(),(o={orginalData:i}).name=function(e){var n,t=e.lines,r=void 0,i=null===(n=null==t?void 0:t[0])||void 0===n?void 0:n.text.match(f);return i&&(r=i[1].split(" ").filter((function(e){return e})).join("")),r}(i),o.sex=function(e){var n,t=e.lines,r=void 0,i=null===(n=null==t?void 0:t[1])||void 0===n?void 0:n.text.match(p);return i&&(r=i[0]),r}(i),o.nation=function(e){var n,t=e.lines,r=void 0,i=null===(n=null==t?void 0:t[1])||void 0===n?void 0:n.text.match(h);return i&&(r=i[1]),r}(i),o.birthday=function(e){var n,t=e.lines,r=void 0,i=null===(n=null==t?void 0:t[2])||void 0===n?void 0:n.words.slice(2).map((function(e){return e.text})).join("");return v.test(i)&&(r=i),r}(i),o.address=function(e){var n=void 0,t=e.lines.slice(2,-1).map((function(e){return e.words.map((function(e){return e.text})).join("")})).join("").match(m);return t&&(n=t[0]),n}(i),o.cardId=function(e){var n,t=e.lines,r=void 0,i=null===(n=null==t?void 0:t[6])||void 0===n?void 0:n.text.match(x);return i&&(r=i[0]),r}(i),[2,o]}}))}))}function y(){const[e,n]=(0,a.useState)({}),[t,r]=(0,a.useState)(!1),o={name:"file",maxCount:1,accept:".png,.jpg",beforeUpload:e=>(r(!0),b(e).then((e=>{e.orginalData=void 0,n(e)})).finally((()=>{r(!1)})),!1)};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.A,{...o,children:(0,i.jsx)(l.Ay,{icon:(0,i.jsx)(d.A,{}),loading:t,children:"\u4e0a\u4f20\u8eab\u4efd\u8bc1"})}),(0,i.jsx)(c.A,{spinning:t,children:(0,i.jsx)(u.A.TextArea,{style:{marginTop:"32px"},disabled:!0,value:JSON.stringify(e),placeholder:"\u8fd4\u56de\u7ed3\u679c",autoSize:{minRows:6,maxRows:6}})})]})}const j={sidebar_position:2,locale:"zh-Hans"},w="\u793a\u4f8b",g={},k=[];function S(e){const n={h1:"h1",header:"header",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"\u793a\u4f8b",children:"\u793a\u4f8b"})}),"\n","\n",(0,i.jsx)(y,{})]})}function A(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(S,{...e})}):S(e)}}}]);